local b='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
function VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR(data) m=string.sub(data, 0, 55) data=data:gsub(m,'')

data = string.gsub(data, '[^'..b..'=]', '') return (data:gsub('.', function(x) if (x == '=') then return '' end local r,f='',(b:find(x)-1) for i=6,1,-1 do r=r..(f%2^i-f%2^(i-1)>0 and '1' or '0') end return r; end):gsub('%d%d%d?%d?%d?%d?%d?%d?', function(x) if (#x ~= 8) then return '' end local c=0 for i=1,8 do c=c+(x:sub(i,i)=='1' and 2^(8-i) or 0) end return string.char(c) end)) end


 


local GameInformation = loadstring(game:HttpGet(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('DgkKwYkOxmkLwpptaZfFOuJrTdIoejWSDfoduoFUwgdXVYXmLuDLfUoaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1RoZVJlYWxYT1JBL1JvYmxveC9yZWZzL2hlYWRzL01haW4vU2NyaXB0cyUyMC9VdGlsaXRpZXMlMjAvRmV0Y2glMjBHYW1lJTIwSW5mb3JtYXRpb24ubHVhdQ=='), true))()
if not GameInformation.Name:find(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('eauaehhbWtSElHKzqjNiPjECdHzaMftfrWeCaLhAXgMQfXzAomcwWkeWmVlIEhvb2Q=')) then return end

loadstring(game:HttpGet(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('fFoeBIfeGUtyEKbjxOveAtJZbqCtxDraCTCKYwoHxWdqXTLdFPJCsAXaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1RoZVJlYWxYT1JBL1JvYmxveC9yZWZzL2hlYWRzL01haW4vU2NyaXB0cyUyMC9BbnRpLUNoZWF0cyUyMEJ5cGFzc2VycyUyMC9BZG9uaXMubHVhdQ=='), true))()

local OriginalNameCall
OriginalNameCall = hookmetamethod(game, VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('YgYVAoPECCoTJPeRavXVxhSkWzOqpbdNYOJQejvjCugvZHVmpsvocCrX19uYW1lY2FsbA=='), newcclosure(function(Object, ...)
    local Arguments = {...}
    local Method = getnamecallmethod()
    if Method == VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('URtmdCIInRqoxDsjjVvjESQOrzfkfYCtNLkOcwVPhLKwqmkfOwRQVmGRmlyZVNlcnZlcg==') and Object.Name == VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('ivrVrswgqpAbiSUXHQqntgBgIxAziFlEVayOEfbjRRiFpkolBComgXNTWFpblJlbW90ZUV2ZW50') and Arguments[1] == VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('ohxYIrRNjbcYxxWwPohXmDKtYLFVAUmpgeYuWoRqwoaXLlNXbWopcpGRGV0ZWN0aW9u') then
        return coroutine.yield()
    end
    return OriginalNameCall(Object, ...)
end))








local Library = loadstring(game:HttpGet(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('pTTEsUaCsvYphMJSEUQypdHpiWUuEUvswxqPOrFeaCTleqwXasGLgFKaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2k3N2xobS9MaWJyYXJpZXMvcmVmcy9oZWFkcy9tYWluL1V0b3BpYS9MaWJyYXJ5Lmx1YQ==')))()

local Window = Library:Window({
    Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('LjxKRcbNLqIYJPsNAMAvyQbVFJGdkueyxSIGQxemLwjktozTccTfUIOb2Zmc2V0LnVuaXZlcnNhbCAoemVlaG9vZDIp'),
    GradientTitle = {
        Enabled = true,
        Start = Color3.fromRGB(255, 255, 255),
        Middle = Color3.fromRGB(0, 251, 255),
        End = Color3.fromRGB(50, 135, 168),
        Speed = 1
    }
})

-- Watermark & Keybind List (OFF by default)
local Watermark   = Library:Watermark(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('hDqBVRVgzgmyFMUAhAMoQQGGlgUsKeIznyaEKIsOkoYcioDgpEiyRqYeW91IGFyZSBhIG5pZ2dlcg=='), {VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('aZnFpXsOIfFEcxSNnWEeteozYolzRYHvvsHqGWGNiYBfFZcaTAVeumiNzc5NzQxNTM2NTc4OTE='), Color3.fromRGB(149, 255, 139)})
local KeybindList = Library:KeybindList()
Watermark:SetVisibility(false)
KeybindList:SetVisibility(false)

-- Tabs
local CombatTab   = Window:Page({Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('lmmNvhwPhrQNfRhMeAfYAAIpouAFyqfDeaqqwcsahJWQuxwsHTOHCBIQ29tYmF0'),   Columns = 2})
local MovementTab = Window:Page({Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('YdJJytxAXdScyhOLfkPiMPujcdLJLWXVVuosucMLViZWtRonvgeYawkTW92ZW1lbnQ='), Columns = 2})
local VisualTab   = Window:Page({Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('pbZzYUflrBIhfUKymRRxRSLjcaWmqrSzswkdMTrUubUrNXqTBELHHKAVmlzdWFs'),   Columns = 2})
local SettingsTab = Window:Page({Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('KBxXvFwiaSxTomFBSrWAHIspMsjpPVWWmpfobktXkHILLaJaPttnDfHU2V0dGluZ3M='), Columns = 2})

--=====================================================================
-- SERVICES & VARIABLES
--=====================================================================

local Players          = game:GetService(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('zxtfojjSWcDzGLEcedKzrHDOJairEhIobkZcPACpeHUCbRVTOukdNWLUGxheWVycw=='))
local RunService       = game:GetService(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('CacsASnfZIScRLDvPTFOBexdqRDFFyCTXKGzsRxIbzGIsWeUDOtUqVmUnVuU2VydmljZQ=='))
local UserInputService = game:GetService(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('TvFhAdmfpqACiibpEBPWebeeejWfSZXlzYigmByTAmaCHvviDuLLTxzVXNlcklucHV0U2VydmljZQ=='))
local ReplicatedStorage= game:GetService(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('gKKZMHgDzfTURrcNiIMiPRcalUWqbCxxgqWyGradezPMzwJYXDvRnIuUmVwbGljYXRlZFN0b3JhZ2U='))
local CurrentCamera    = workspace.CurrentCamera
local LocalPlayer      = Players.LocalPlayer
local Client           = LocalPlayer
local Mouse            = LocalPlayer:GetMouse()
local Inset            = game:GetService(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('hnDkrogPTZBVeMztHbQvqeGOsGLXEhQLwpgbwMtoTtBnNqtgYMNdzHQR3VpU2VydmljZQ==')):GetGuiInset().Y

-- Target Aim
local TargetAimEnabled = false
local TargetViewEnabled = false
local TargetAllEnabled = false
local viewing, viewDied, viewChanged = nil, nil, nil
local Target = nil
local TargetPart = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('NkBlTPhXfLAWYgKMhwharLggTIUXNFFcoGkbMyDOmFXauIPLbyApOeJSGVhZA==')
local LeadStrength = 0.10
local Line = Drawing.new(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('EFRNDGCzcKkhJhRGYQLJwbeKAVtMRAYXrpCmtTSBKzukLYXBZNGypasTGluZQ=='))
Line.Thickness = 2
Line.Color = Color3.fromRGB(255, 0, 0)
Line.Visible = false

-- Rapid Fire
local revolverEnabled = false
local currentTool = nil
local holding = false
local connections = {}
local heartbeatConn = nil

-- Target All
local targetAllConn = nil
local targetAllConnections = {}

-- FOV Changer
local FOVEnabled = false
local TargetFOV = 80
local FOVConnection = nil

-- FLY
local flyKeybindEnabled = false
local flyKeybindActive = false
local flySpeed = 50
local isFlying = false
local flyConnection = nil

-- TP WALK
local tpKeybindEnabled = false
local tpKeybindActive = false
local tpSpeed = 16

local GUN_NAMES = {
    [VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('ufDGdaXyTAYhCyAsjawJiljoKrawTSaMQWfLqoPMWEwmYJTJkEQUNtJW1Jldm9sdmVyXQ==')]        = true,
    [VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('mFyxHhHKHUFFNWLausdbmEoIyKPRRDKpupUHwdxgOGVhKyxBVBopsiIW1JpZmxlXQ==')]           = true,
    [VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('wKfIxlrpZFfebRhPHMlZufiTtnpjtFIrodHopRmzAmhcxHYWMiDYPfkW0RvdWJsZS1CYXJyZWwgU0dd')]= true,
    [VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('TvUQIsRaNdpevuHlkSMphEVcLNeBUNrlzaynkOOexuAonTLAeLFOCmcW1RhY3RpY2FsU2hvdGd1bl0=')] = true,
    [VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('NsaXAdLzrwjAtRrAOIEhUCJfyWzCiMuNwSxsxSfEOQvlJFbgJzrcXyYW1NNR10=')]             = true
}

--=====================================================================
-- NAME ESP
--=====================================================================

local ESPEnabled = false
local ESPColor = Color3.fromRGB(255, 255, 255)
local ESPCache = {}
local ESPConnection = nil

local function renderNameESP(plr)
    if not plr or ESPCache[plr] then return end
    local text = Drawing.new(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('qbQJEMCHtSbhugdXmkhkVqKteQFJvFEBUnJdqcYaWjmnKXEtuJpDUqXVGV4dA=='))
    text.Size = 14
    text.Font = 2
    text.Outline = true
    text.Center = true
    text.Visible = false
    ESPCache[plr] = text
end

local function removeNameESP(plr)
    if ESPCache[plr] then
        ESPCache[plr]:Remove()
        ESPCache[plr] = nil
    end
end

local function updateNameESP()
    if not ESPEnabled then return end
    local cam = CurrentCamera
    local localChar = LocalPlayer.Character
    if not localChar or not localChar:FindFirstChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('fsrvjtYKihZjUrHkRhpcmJezFUBWDnNoNfLtCauJiGTkFBgcBGeyEodSHVtYW5vaWRSb290UGFydA==')) then return end

    for plr, text in pairs(ESPCache) do
        if not plr.Parent or not plr.Character or not plr.Character:FindFirstChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('BvnQUUkTFsyZNrnmmXMPXcMuVfJGiLPTZwyQwMxTNYjBYiDOLprZZleSHVtYW5vaWRSb290UGFydA==')) then
            text.Visible = false
            continue
        end

        local root = plr.Character.HumanoidRootPart
        local headPos = root.Position + Vector3.new(0, 3, 0)
        local screenPos, onScreen = cam:WorldToViewportPoint(headPos)

        if onScreen then
            text.Position = Vector2.new(screenPos.X, screenPos.Y)
            text.Text = plr.Name
            text.Color = ESPColor
            text.Visible = true
        else
            text.Visible = false
        end
    end
end

for _, plr in ipairs(Players:GetPlayers()) do
    if plr ~= LocalPlayer then
        renderNameESP(plr)
    end
end

Players.PlayerAdded:Connect(function(plr)
    if plr ~= LocalPlayer then
        plr.CharacterAdded:Connect(function()
            task.wait(1)
            renderNameESP(plr)
        end)
    end
end)

Players.PlayerRemoving:Connect(removeNameESP)

--=====================================================================
-- GET TARGETS
--=====================================================================

local function GetClosestTarget()
    local Closest, MinDist = nil, math.huge
    local MousePos = Vector2.new(Mouse.X, Mouse.Y)
    for _, plr in ipairs(Players:GetPlayers()) do
        if plr ~= Client and plr.Character then
            local Root = plr.Character:FindFirstChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('PhVjZQeMTVYdFzDrjCTEiCDUYolowQUfJRMGtkQQRgtvdxbBBiLSLBLSHVtYW5vaWRSb290UGFydA=='))
            local Humanoid = plr.Character:FindFirstChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('MXxrpjJovyLzByREQfenORETVTEJSPXuzMDKXwATMOdMSOLyZvhBygbSHVtYW5vaWQ='))
            local BodyEffects = plr.Character:FindFirstChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('FKvWwBWRwQJjFPxsljnWvIQBnVuLzAXwZLZXoDwPEhROVsgnQdqEEjjQm9keUVmZmVjdHM='))
            local KO = BodyEffects and BodyEffects:FindFirstChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('FMHPfOqTdcvDMXDAkiGEyoYOuTHbonMqRQCKVoCOutlpunatnJrsmKKSy5P'))
            local Grabbed = plr.Character:FindFirstChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('VDHeaoVXolAyegQRJkJFIKgAHCdbcRBqPdvySVaHTfcBmAyPORlrNisR1JBQkJJTkdfQ09OU1RSQUlOVA=='))

            if Root and Humanoid and Humanoid.Health > 0 and BodyEffects and KO and not KO.Value and not Grabbed then
                local screenPos, onScreen = CurrentCamera:WorldToViewportPoint(Root.Position)
                if onScreen then
                    local Dist = (Vector2.new(screenPos.X, screenPos.Y) - MousePos).Magnitude
                    if Dist < MinDist then
                        MinDist = Dist
                        Closest = plr
                    end
                end
            end
        end
    end
    return Closest
end

local function GetAllTargets()
    local targets = {}
    for _, plr in ipairs(Players:GetPlayers()) do
        if plr ~= Client and plr.Character then
            local Root = plr.Character:FindFirstChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('HHymQTKNRUQJblHAaQabOFdZsnYTeVHcEKmmAcnjquTMJGhgJVNXzgbSHVtYW5vaWRSb290UGFydA=='))
            local Humanoid = plr.Character:FindFirstChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('KJttqXngoDKOudiNKFoQXmikeIOgNLZeovWytWCMpXzTUdRULAqPMvcSHVtYW5vaWQ='))
            local BodyEffects = plr.Character:FindFirstChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('eKHpEMqKZHhOYqoerVLvwVDcWlGpFAzIHuqEBpQqicmutxGGMVMwRfvQm9keUVmZmVjdHM='))
            local KO = BodyEffects and BodyEffects:FindFirstChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('ejHHNXhakXmyiMTKGNVVewiGQoWtbiSpXxItuzSDNYPhMcbkxzOYpNhSy5P'))
            local Grabbed = plr.Character:FindFirstChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('lgFshlAAYYdraSTBxDnOKygttEYKmvvbuFEeijbZKCdYXOLOqanqrbnR1JBQkJJTkdfQ09OU1RSQUlOVA=='))

            if Root and Humanoid and Humanoid.Health > 0 and BodyEffects and KO and not KO.Value and not Grabbed then
                table.insert(targets, plr)
            end
        end
    end
    return targets
end

--=====================================================================
-- BULLET TELEPORT HOOK
--=====================================================================

local mt = getrawmetatable(game)
local oldIndex = mt.__index
setreadonly(mt, false)

local lastHitOverride = nil
local lastTargetOverride = nil

mt.__index = newcclosure(function(self, key)
    if not checkcaller() and self == Mouse then
        if TargetAllEnabled then
            local targets = GetAllTargets()
            if #targets > 0 then
                local part = targets[1].Character:FindFirstChild(TargetPart)
                if part then
                    local predicted = part.Position + (part.Velocity * LeadStrength)
                    if key == VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('VaGttvKLXIoHTASJrYGKOxCBiCUrqvGHHCIDMTlvQasqWOXXEvRkVQiSGl0') then
                        lastHitOverride = CFrame.new(predicted)
                        return lastHitOverride
                    elseif key == VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('QzKcAGIftOtvVLekiBiOmyCwgEXoJUxeRspuCmckQMSEHCAbXcZVlcwVGFyZ2V0') then
                        lastTargetOverride = part
                        return lastTargetOverride
                    end
                end
            end
        elseif TargetAimEnabled and Target and Target.Character then
            local part = Target.Character:FindFirstChild(TargetPart)
            if part then
                local predicted = part.Position + (part.Velocity * LeadStrength)
                if key == VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('MzDmUmmdTaSjHhUiZTYNrPNzeRryIBHXkTHYoFvNJYNYDgRrClmhMcySGl0') then
                    lastHitOverride = CFrame.new(predicted)
                    return lastHitOverride
                elseif key == VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('NgTWFbVugwzcMnmCFPqFpkOezLYCFZbHGgcfxBEKwfLGrQcLlhYLyssVGFyZ2V0') then
                    lastTargetOverride = part
                    return lastTargetOverride
                end
            end
        end
    end

    if self == Mouse and key == VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('ozynoKGaROJJEKLklhwPFeWFiVafMsyxuzXTgDehAWVGodLSwpFaQFISGl0') and lastHitOverride then
        local r = lastHitOverride; lastHitOverride = nil; return r
    elseif self == Mouse and key == VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('dtDRAlfkkLPwHNHrwSUckDvdtMEAXyGrNVpJuybQgIByaaxViyGCgiOVGFyZ2V0') and lastTargetOverride then
        local r = lastTargetOverride; lastTargetOverride = nil; return r
    end

    return oldIndex(self, key)
end)

setreadonly(mt, true)

--=====================================================================
-- REAL TARGET VIEW
--=====================================================================

local function startViewing(plr)
    if not plr or not plr.Character then return end
    if viewDied then viewDied:Disconnect() end
    if viewChanged then viewChanged:Disconnect() end

    viewing = plr
    CurrentCamera.CameraSubject = viewing.Character

    viewDied = viewing.CharacterAdded:Connect(function()
        repeat task.wait() until viewing.Character and viewing.Character:FindFirstChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('zyOTXaPQHyzKXYQtvJDFKoVfokMUcFKLMlISQAQkmUVLyKHHozuLDrbSHVtYW5vaWRSb290UGFydA=='))
        CurrentCamera.CameraSubject = viewing.Character
    end)

    viewChanged = CurrentCamera:GetPropertyChangedSignal(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('vBRWASWSXaquKAzXmpeGvwexHyGdlgvdEnAwbVFPizEkjlRqevnCJxZQ2FtZXJhU3ViamVjdA==')):Connect(function()
        if viewing and CurrentCamera.CameraSubject ~= viewing.Character then
            CurrentCamera.CameraSubject = viewing.Character
        end
    end)
end

local function stopViewing()
    if viewDied then viewDied:Disconnect() end
    if viewChanged then viewChanged:Disconnect() end
    viewing = nil
    CurrentCamera.CameraSubject = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('INObrYoDoeKLkoWsYjRwnQdtYqAzKKsFRiLQhDGTRzKOIqlHncBwHlVSHVtYW5vaWQ='))
end

--=====================================================================
-- TRACER + Q KEY
--=====================================================================

RunService.Heartbeat:Connect(function()
    if TargetAimEnabled and Target and Target.Character and not TargetAllEnabled then
        local part = Target.Character:FindFirstChild(TargetPart)
        if part then
            local predicted = part.Position + (part.Velocity * LeadStrength)
            local vec, onScreen = CurrentCamera:WorldToViewportPoint(predicted)
            if onScreen then
                Line.From = Vector2.new(Mouse.X, Mouse.Y + Inset)
                Line.To   = Vector2.new(vec.X, vec.Y)
                Line.Visible = true
            else
                Line.Visible = false
            end
        else
            Line.Visible = false
        end
    else
        Line.Visible = false
    end
end)

UserInputService.InputBegan:Connect(function(input, gp)
    if gp or input.UserInputType ~= Enum.UserInputType.Keyboard then return end
    if input.KeyCode == Enum.KeyCode.Q and TargetAimEnabled and not TargetAllEnabled then
        if Target then
            Target = nil
            if TargetViewEnabled then stopViewing() end
        else
            Target = GetClosestTarget()
            if Target and TargetViewEnabled then startViewing(Target) end
        end
    end
end)

--=====================================================================
-- GUN FINDER
--=====================================================================

local function findTool()
    for name,_ in pairs(GUN_NAMES) do
        local tool = LocalPlayer.Backpack:FindFirstChild(name) or (LocalPlayer.Character and LocalPlayer.Character:FindFirstChild(name))
        if tool then return tool end
    end
    return nil
end

--=====================================================================
-- SHOOT FUNCTION
--=====================================================================

local function shoot(targetPlayer)
    local char = LocalPlayer.Character
    if not char or char.Humanoid.Health <= 0 then return end

    local tool = currentTool or (targetAllConn and LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('NyAJTZuaMuHsEyjTCelImfMbphjuBElbeLuasvxjaAjCzewqctmxmyTVG9vbA==')))
    if not tool or tool.Parent ~= char then return end

    local Handler = ReplicatedStorage:WaitForChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('pMVZmoMmHUBhflBWqIGlSldOSCmQOnjnSQTvfBzSUTAZPrKmIYpTmuoTWFpbk1vZHVsZQ=='))
    local Module = require(Handler)
    Module.Ignored = {workspace:WaitForChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('fDxGVsRErzqCWMQQwCNswjhUCxRMoefvBCDjAOdTYejjHtXObkOiQLlVmVoaWNsZXM=')), workspace:WaitForChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('fNKUfSQswbhJgfiVldizsZFBSAoKTmtABPVdxtNeMYJdvRRwBClKluuTUFQ')), workspace:WaitForChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('MqhUlJzyyhMrgYxVwiFvSbrraTTEKDVLTDzsQbwAvzhyzSNUnlyDAJiSWdub3JlZA=='))}

    local handle = tool:FindFirstChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('XkWgIdGCxsfhQEuxjiaEVkxnFVdUTcXuTAZvAupCwFZolZVIrSAKeslSGFuZGxl'))
    if not handle then return end

    local gunHandler = require(ReplicatedStorage:WaitForChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('kyhxljPHGEWzMQGmTvWtndGwySNXwbdfLQGlwAzTHeZOdJohkvZJmFITW9kdWxlcw==')):WaitForChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('YGCPpTDHACjHTyhZScNxInQNXBrMQJVYiuOqOxgUBWKxupStAgmqbedR3VuSGFuZGxlcg==')))
    local mainRemote = ReplicatedStorage:WaitForChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('OErKsytzyTldFjXYkUqwRlQPMhZXzVbueviHKCXVaYudZieFXewCAKRTWFpblJlbW90ZXM=')):WaitForChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('BwyMXUOIUOVpbqXbvWGTNWWpkPnsctSGflZNmTZVjiwQbimrQgpggpeTWFpblJlbW90ZUV2ZW50'))
    local remoteEvent = tool:FindFirstChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('RNpyYNwTqWbedcAZtJRDyYKcfjrcDnEiQTufKpKUwJYGjwcNMgZuMBeUmVtb3RlRXZlbnQ=')) or {FireServer = function() end}

    if not gunHandler.getCanShoot(char) then return end

    local offset = CFrame.new(-1, 0.4, 0)
    local muzzlePos = (handle.CFrame * offset).Position

    local aimPos
    if targetPlayer and targetPlayer.Character then
        local part = targetPlayer.Character:FindFirstChild(TargetPart)
        if part then aimPos = part.Position + (part.Velocity * LeadStrength) end
    end

    local infRange = 999999
    local success, data, hit, pos = pcall(function()
        return gunHandler.shoot({
            Shooter      = char,
            Handle       = handle,
            ForcedOrigin = muzzlePos,
            AimPosition  = aimPos or (muzzlePos + gunHandler.getAim(muzzlePos) * infRange),
            BeamColor    = Color3.fromRGB(255,140,38),
            Range        = infRange
        })
    end)

    if not success or not data then return end

    pcall(function()
        mainRemote:FireServer(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('fThgTYoziEyYdRnVQUaqWtuGXlvdOlRCceyQBbFIYvUEYrMfkcQHJuMc2hvdGFndW56ZWVoTzBkeEQ='), handle, muzzlePos, data, hit or false, pos or Vector3.zero)
    end)

    pcall(function()
        if remoteEvent.FireServer then remoteEvent:FireServer(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('JLfJBQOwdPcVMWoKQkNFvSGQRDrXcLKDJJWzfptCywOjpuHFLLRrEJjU2hvb3Q=')) end
    end)
end

--=====================================================================
-- RAPID FIRE
--=====================================================================

local function disconnectRapidFire()
    if heartbeatConn and heartbeatConn.Connected then heartbeatConn:Disconnect() heartbeatConn = nil end
    for _, c in ipairs(connections) do if c and c.Connected then c:Disconnect() end end
    connections = {}
end

local function enableRapidFire()
    if revolverEnabled then return end
    revolverEnabled = true
    holding = false
    disconnectRapidFire()

    currentTool = findTool()
    if not currentTool then return end

    local handle = currentTool:WaitForChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('vrYahdwAmXgXzWCyZyuCbzZKCznQzLKaBNpCWXtaMLWYbJsTbcPgUmwSGFuZGxl'),5)
    local ammo   = currentTool:WaitForChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('xERfjQYEdGaovzRmCfpkCEOCQumrQiRPdfEIsCFjQEaFFWOIkAnuejlQW1tbw=='),5)
    local cd     = currentTool:WaitForChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('KuyazheELhpuvXUeriCDDeZdEjvxvBjUXzIrVpAaORiwbQQnLvcnPhLU2hvb3RpbmdDb29sZG93bg=='),5)
    if not (handle and ammo and cd) then return end

    cd.Value = 0.01
    local maxAmmo = ammo.Value

    table.insert(connections, ammo:GetPropertyChangedSignal(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('BxfqofqiBukjzPrAvXXjKliRDiJAzuxQFITsNZslOhlBNpzHXDkljGMVmFsdWU=')):Connect(function()
        if revolverEnabled then ammo.Value = maxAmmo end
    end))
    table.insert(connections, RunService.Heartbeat:Connect(function()
        if revolverEnabled then ammo.Value = maxAmmo end
    end))

    table.insert(connections, UserInputService.InputBegan:Connect(function(i,p)
        if p or i.UserInputType ~= Enum.UserInputType.MouseButton1 then return end
        if not (revolverEnabled and currentTool and currentTool.Parent == LocalPlayer.Character) then return end

        holding = true
        if heartbeatConn and heartbeatConn.Connected then heartbeatConn:Disconnect() end
        heartbeatConn = RunService.Heartbeat:Connect(function()
            if not (revolverEnabled and holding and currentTool and currentTool.Parent == LocalPlayer.Character) then
                holding = false
                if heartbeatConn and heartbeatConn.Connected then heartbeatConn:Disconnect() heartbeatConn = nil end
                return
            end
            shoot(nil)
        end)
    end))

    table.insert(connections, UserInputService.InputEnded:Connect(function(i)
        if i.UserInputType == Enum.UserInputType.MouseButton1 then holding = false end
    end))

    local activatedConn = currentTool.Activated:Connect(function() shoot(nil) end)
    table.insert(connections, activatedConn)

    table.insert(connections, currentTool:GetPropertyChangedSignal(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('XILhVODlhHJVLQhgmmTScDlpqbAAflXtOttsQYVMCEVfnIFGoyFtyLER3JpcA==')):Connect(function()
        ReplicatedStorage:WaitForChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('kqoQXchAPsICnnkMyfsxYyCHaHZfgmSSiDhfwZpatgHwlcaGNqjaHdvTWFpblJlbW90ZXM=')):WaitForChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('MyoIyQJfDnjykXTlJXdEKWALIJZfiuxFJUEVuGttygbuGuGVhMezLgjTWFpblJlbW90ZUV2ZW50')):FireServer(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('zYtBukkQwkZyUnZsEogiFkwEZLYhPijjiwTzuQNHQSHYhwGzYGLaEVFQ0hFQ0tFUl80'))
    end))
end

local function disableRapidFire()
    revolverEnabled = false
    holding = false
    currentTool = nil
    disconnectRapidFire()
    Library:Notification(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('gaWddzUYQDTxVwhfNaciELXefPARxXZekwVTibuklHEhAcHZbBnusrkUmFwaWQgRmlyZSBESVNBQkxFRA=='), 2, Color3.fromRGB(255,100,100))
end

--=====================================================================
-- TARGET ALL
--=====================================================================

local function disconnectTargetAll()
    if targetAllConn and targetAllConn.Connected then targetAllConn:Disconnect() targetAllConn = nil end
    for _, c in ipairs(targetAllConnections) do if c and c.Connected then c:Disconnect() end end
    targetAllConnections = {}
end

local function startTargetAllRapidFire()
    if targetAllConn and targetAllConn.Connected then return end

    local tool = findTool()
    if not tool then return end

    local handle = tool:WaitForChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('CMRZjsGnlyZXKfrXxgkzyknrrpqMnyZmESqJkqHfihnvaglYTArqeMOSGFuZGxl'),5)
    local ammo   = tool:WaitForChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('yefazjBmIIzfdshFXodWShcZtCswXeJcIinboPPWbIaPZkhvoZbcTSuQW1tbw=='),5)
    local cd     = tool:WaitForChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('gixHYuvZPxnGTZimGvhrhAEpDBEOqxtizLwQqNUvHCORrXbvTouutWRU2hvb3RpbmdDb29sZG93bg=='),5)
    if not (handle and ammo and cd) then return end

    cd.Value = 0.01
    local maxAmmo = ammo.Value

    table.insert(targetAllConnections, ammo:GetPropertyChangedSignal(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('dwkbseOjzZNNqbTlkYvZZlQKbymfHxtJHQTWLOpNYBtihSKzihDuQJVVmFsdWU=')):Connect(function()
        if TargetAllEnabled then ammo.Value = maxAmmo end
    end))
    table.insert(targetAllConnections, RunService.Heartbeat:Connect(function()
        if TargetAllEnabled then ammo.Value = maxAmmo end
    end))

    targetAllConn = RunService.Heartbeat:Connect(function()
        if not (TargetAllEnabled and tool and tool.Parent == LocalPlayer.Character) then return end
        local targets = GetAllTargets()
        for _, t in ipairs(targets) do
            shoot(t)
            task.wait(0.01)
        end
    end)
end

local function stopTargetAllRapidFire()
    TargetAllEnabled = false
    disconnectTargetAll()
    Library:Notification(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('ADDerJhzYLRGtOGiwZdpJgvsoOwGTEpkGBDGhOhJCQLJPUunFCMvwwHVGFyZ2V0IEFsbCBESVNBQkxFRA=='), 2, Color3.fromRGB(255,100,100))
end

--=====================================================================
-- FOV CHANGER
--=====================================================================

local function updateFOV()
    if FOVEnabled and CurrentCamera then
        CurrentCamera.FieldOfView = TargetFOV
    end
end

local function enableFOVChanger()
    if FOVConnection then FOVConnection:Disconnect() end
    FOVConnection = RunService.RenderStepped:Connect(updateFOV)
end

local function disableFOVChanger()
    if FOVConnection then
        FOVConnection:Disconnect()
        FOVConnection = nil
    end
    if CurrentCamera then
        CurrentCamera.FieldOfView = 80
    end
end

--=====================================================================
-- FLY LOGIC
--=====================================================================

local function startFlying()
    if isFlying then return end
    local char = LocalPlayer.Character
    local root = char and char:FindFirstChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('dIfGPQtBkBATLodZrYRxcEOnSZjLFAHrCkOREDmvNCMhwcOtCDiVDomSHVtYW5vaWRSb290UGFydA=='))
    local hum = char and char:FindFirstChildWhichIsA(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('rdKlXGurDLukSnWGntmOZbXgYgUKajGinfCOvCIBgcsfonVghLIzBuSSHVtYW5vaWQ='))
    if not root or not hum then return end

    isFlying = true
    local oldState = hum:GetState()
    root:SetAttribute(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('oFnyJmjGrPSoEbyHylHpQhYyVmGsgGPbkBhlACwmwjCaCNDmXRZCBNfT2xkSHVtYW5vaWRTdGF0ZQ=='), oldState)
    hum:ChangeState(Enum.HumanoidStateType.Physics)

    flyConnection = RunService.RenderStepped:Connect(function(delta)
        if not (flyKeybindActive and isFlying and root and root.Parent) then return end
        local cam = CurrentCamera
        local moveDir = Vector3.zero

        if UserInputService:IsKeyDown(Enum.KeyCode.W) then moveDir += cam.CFrame.LookVector end
        if UserInputService:IsKeyDown(Enum.KeyCode.S) then moveDir -= cam.CFrame.LookVector end
        if UserInputService:IsKeyDown(Enum.KeyCode.A) then moveDir -= cam.CFrame.RightVector end
        if UserInputService:IsKeyDown(Enum.KeyCode.D) then moveDir += cam.CFrame.RightVector end

        if moveDir.Magnitude > 0 then
            moveDir = moveDir.Unit * (flySpeed * delta * 60)
            root.CFrame += moveDir
        end

        local targetRot = CFrame.lookAt(root.Position, root.Position + cam.CFrame.LookVector)
        root.CFrame = root.CFrame:Lerp(targetRot, 0.2)
        root.AssemblyLinearVelocity = Vector3.zero
        root.AssemblyAngularVelocity = Vector3.zero
    end)

    Library:Notification(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('HSQxjowFNCqLceeRavNNAlAExPlimMHsubLNeRZJWRsThVAXZPsAdgSRmx5IE9OIChGKQ=='), 2, Color3.fromRGB(0, 255, 255))
end

local function stopFlying()
    if not isFlying then return end
    isFlying = false
    if flyConnection then flyConnection:Disconnect() flyConnection = nil end

    local char = LocalPlayer.Character
    local root = char and char:FindFirstChild(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('ogMURyGstiHeImIdLhGOoVvYojKOdzlbfwGGWiXanycYZDqHbgSNQHpSHVtYW5vaWRSb290UGFydA=='))
    local hum = char and char:FindFirstChildWhichIsA(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('oibSoVYhsxovFTjmbXGMLdbbqEcYTJPWoEjixsadaogVgRgIuZiMhtgSHVtYW5vaWQ='))
    if hum and root then
        local oldState = root:GetAttribute(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('oNmGPdoVPwjAZidCfvjfhQBnEYOYHUBniIoDoaGaCUQoXmsoaOklnKmT2xkSHVtYW5vaWRTdGF0ZQ=='))
        hum:ChangeState(oldState or Enum.HumanoidStateType.GettingUp)
    end

    Library:Notification(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('BbugfLMsnoGQHrdQLiSChAvVqvrvIIhQqJHLENUoasBaKsWrQxytSttRmx5IE9GRiAoRik='), 2, Color3.fromRGB(255, 100, 100))
end

--=====================================================================
-- TP WALK LOGIC
--=====================================================================

task.spawn(function()
    while task.wait() do
        if tpKeybindActive and LocalPlayer.Character then
            local chr = LocalPlayer.Character
            local hum = chr:FindFirstChildWhichIsA(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('VomDFuNmadoSpkxgLPqVDlomNrsXIIhLlHFlFZVzPyQgajzGQzLDVjVSHVtYW5vaWQ='))
            if chr and hum and hum.MoveDirection.Magnitude > 0 then
                chr:TranslateBy(hum.MoveDirection * tpSpeed * 10 * RunService.Heartbeat:Wait())
            end
        end
    end
end)

--=====================================================================
-- UI: TARGET AIM (Combat - Left)
--=====================================================================

local TargetAimSection = CombatTab:Section({Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('DwrypoMrJYEVGhJeWvURtdHXllFbCQFeOncdBNszIoFCwudqiBuYfszVGFyZ2V0IEFpbQ=='), Side = 1})

TargetAimSection:Toggle({
    Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('CnHTYAlftQWsBCpefcpfOVrkCkFETxAGjFWnQdsbMSJcrPvvalUolDxVGFyZ2V0IEFpbQ=='),
    Default = false,
    Flag = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('qlEqRCdelSlWVDpVlHbqrtnZQCmUIreFytpJPVQfGgXqrhGZbvpbaCbVGFyZ2V0QWlt'),
    Callback = function(v)
        TargetAimEnabled = v
        if not v then
            Target = nil
            Line.Visible = false
            if TargetViewEnabled then stopViewing() end
        end
    end
})

TargetAimSection:Toggle({
    Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('wujEnGZrttVmZkaeMKjnqlWEbYGPwjmbmuWPaPHfWGgRODlqOxTtMKEdmlldw=='),
    Default = false,
    Flag = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('nTCCjOcVNwhSCHbytISlLJWASpWXgxMDhNjfvjwgEzPWUgFwWZKRxtxVGFyZ2V0Vmlldw=='),
    Callback = function(v)
        TargetViewEnabled = v
        if v and Target then startViewing(Target) end
    end
})

TargetAimSection:Dropdown({
    Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('vLbdRLYmNfFoiwUbHqIKViZKcbHmBIwBeEzyQojCeGDOEZHLJghkNCeSGl0IFBhcnQ='),
    Default = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('ZLHQMFYBYaXEgisPYtodjwqpKsmSquWjacKZYfdvDOiPlMCLCeSltPbSGVhZA=='),
    Items = {VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('SSSKZWFiALTzmrfeMOCFKjAospzoSKFhPjvlJREEvXELIpeXkJzgFmpSGVhZA=='),VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('fApGIUVKgEzqCGBLzduDKZzzPZdOCnfNqSPIlseXuzpQGUOZYpBjjUZSHVtYW5vaWRSb290UGFydA=='),VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('MeRxxWTktWgEIBFQikLqquUeSCnTTqtTWxhQEbdAKRXrUmKZyKcljWlVXBwZXJUb3Jzbw==')},
    Callback = function(v) TargetPart = v end
})

TargetAimSection:Slider({
    Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('MdvhpCrpDaoMmlpykgrJubfpYkrcXuWLwNVTIDdKWszSKqQiKRiLLSuUHJlZGljdGlvbg=='),
    Min = 0, Max = 19, Default = 10,
    Suffix = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('gUplVrifIkQPFhUvdGSPLKhemByMNKLkvESshCVxCRbfsNEcbJHAnteJQ=='),
    Callback = function(v) LeadStrength = v/100 end
})

--=====================================================================
-- UI: WEAPON HACK (Combat - Right)
--=====================================================================

local WeaponSection = CombatTab:Section({Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('qZyGNdYgZsFlLkKyElJzzOEJVPkDTMonoVTcdNhQJJBACHsFvjeeLRQV2VhcG9uIEhhY2s='), Side = 2})

WeaponSection:Toggle({
    Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('jKdrIuRNsDixALWPToXfbrZGbMzDqokpLCERKKgcwgrNuJOMOoEFbsgUmFwaWQgRmlyZQ=='),
    Default = false,
    Flag = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('fNogfGqBlRugMdSKVlfJXmsvTolbzSSWmGIXApnHsXdVGjaBSUQAUXjUmFwaWRGaXJl'),
    Callback = function(v)
        if v then 
            enableRapidFire()
            Library:Notification(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('iSEkdMzXilvvDgvzROJtzLyAHhnCVQDCfkQHzbprsxckjZiYbVWXkxVUmFwaWQgRmlyZSBFTkFCTEVE'), 2, Color3.fromRGB(0,255,0))
        else 
            disableRapidFire()
        end
    end
})

WeaponSection:Toggle({
    Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('UlaZIlUYcitWDYQhEMmNLRqxxypBBhtudDBrIClGwdXAsSfOHtAKWhuVGFyZ2V0IEFsbA=='),
    Default = false,
    Flag = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('vyzNyBvrOZPWtxHcfDYyTmofvmxQYGGVKPHevJYejKCcDdgqmoUWGRhVGFyZ2V0QWxs'),
    Callback = function(v)
        TargetAllEnabled = v
        if v then
            startTargetAllRapidFire()
            Library:Notification(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('brUdOslcQDxgKgelFGHioAHIApcdBUiRZgRiuBcXObFXYRMpuoWxkjaVGFyZ2V0IEFsbCBFTkFCTEVE'), 2, Color3.fromRGB(0,255,0))
        else
            stopTargetAllRapidFire()
        end
    end
})

--=====================================================================
-- UI: NAME ESP (Visual - Left)
--=====================================================================

local ESPSection = VisualTab:Section({Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('kyRxZmqPjvBzrFYmMmPGvTWFGeNgFYXSEvutUCVrPgWhcsfpSQbbwqvTmFtZSBFU1A='), Side = 1})

ESPSection:Toggle({
    Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('cHCjKURLDVeaAGFHJPLKltqAkJYirNGnTTAsZJttvcQIaqYwIETpoGqTmFtZSBFU1A='),
    Default = false,
    Flag = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('BGoTvTNUqWkzIUvhvozJKyeiJIprKLgLIVBIlkIjmbxxTNpWRAgLBOeTmFtZUVTUA=='),
    Callback = function(v)
        ESPEnabled = v
        if v then
            if not ESPConnection then
                ESPConnection = RunService.RenderStepped:Connect(updateNameESP)
            end
            Library:Notification(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('rXqrqmwlWFnIZpWDtefsNFEQloMAJmuQsARdtbpKzWYePnKxoxZnNnxTmFtZSBFU1AgRU5BQkxFRA=='), 2, Color3.fromRGB(0,255,0))
        else
            if ESPConnection then
                ESPConnection:Disconnect()
                ESPConnection = nil
            end
            for _, text in pairs(ESPCache) do
                text.Visible = false
            end
            Library:Notification(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('UAbqrWHPKbFzjXDdGZtqIgnyfcLdVFBFBdrtOAIXmBYCHbwHAPNWoWUTmFtZSBFU1AgRElTQUJMRUQ='), 2, Color3.fromRGB(255,100,100))
        end
    end
})

local ColorpickerLabel = ESPSection:Label(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('yiCWEkPxTaUHYUSjMXjzWTFliWArzffLLEvmhFqpUKwjTsNEDjzsojTTmFtZSBDb2xvcg=='), VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('HqtbuOedFTOSLIZvpyPFxHLwIiwnsZYnSLxLPyghvdXlrBtnVkXWbOFTGVmdA=='))
ColorpickerLabel:Colorpicker({
    Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('hIAZvHYHOAGvSQEhnUlNyECEagFTmiHnEplhYpchzuRJKkwFhVjKpNCTmFtZSBDb2xvcg=='),
    Flag = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('FUzftwPyVbDVrfVNAfYSABMMnHNxumSWWfkUHHxdOVgHBjHchZGXnQETmFtZUVTUENvbG9y'),
    Default = Color3.fromRGB(255, 255, 255),
    Callback = function(Value, Alpha)
        ESPColor = Value
    end
})

--=====================================================================
-- UI: FOV CHANGER (Visual - Right)
--=====================================================================

local FOVSection = VisualTab:Section({Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('pdEkGPiyfmCrHaRsNErkuGxLTjkzfQftJQCIXzsEWgzaaHOnXqRYtSqRk9WIENoYW5nZXI='), Side = 2})

FOVSection:Toggle({
    Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('xvaFJbfdxgdIPUcmpAoVsmrASOTrrYTVvXzsrvBgILxhxpSxbQFoppNRk9WIENoYW5nZXI='),
    Default = false,
    Flag = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('aygiNodbroqRYlSObYelWCewKHYlEvkWfKUGNEhXnVgYnQKtXSrXmDgRk9WQ2hhbmdlcg=='),
    Callback = function(v)
        FOVEnabled = v
        if v then
            enableFOVChanger()
            Library:Notification(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('jEyJEbydoSclhkgLZfotYRkfWgVzIXKqsDkhbafrPVMveyNvQBsoTugRk9WIENoYW5nZXIgRU5BQkxFRA=='), 2, Color3.fromRGB(0,255,0))
        else
            disableFOVChanger()
            Library:Notification(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('UJJxrtdajxWtHTtCNfQXqGyWqCinOghEjmWvKSvWdEcptgoWyBodroCRk9WIENoYW5nZXIgRElTQUJMRUQ='), 2, Color3.fromRGB(255,100,100))
        end
    end
})

FOVSection:Slider({
    Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('tUuxLqjNAuVsxzuEJiHQtgqhtUHpLFysMDCSZcHAWgwCGRcVbbQUmGoRk9WIFZhbHVl'),
    Min = 0,
    Max = 120,
    Default = 80,
    Suffix = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('HrEdYlyrgUJDOscENDaTsCJpVecHtSNoghxmWafUOBKmWJxwcrHILxr'),
    Flag = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('UUVPeycAMdxdCmCxKiEnDqZIoyBhnswyUEmZJhNceGPKXGsMoJQarUqRk9WVmFsdWU='),
    Callback = function(v)
        TargetFOV = v
        if FOVEnabled then
            CurrentCamera.FieldOfView = v
        end
    end
})

--=====================================================================
-- UI: TP WALK (Movement - Left)
--=====================================================================

local TPWalkSection = MovementTab:Section({Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('vJABQcgpeAfpDPdUiMNPrXKvvHCVBcoFDfmBiVMHBwCLiYhoRAKFIAvVFAgV2Fsaw=='), Side = 1})

TPWalkSection:Toggle({
    Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('FnibAfnzJtPSCydIMRySUjxaaeLHqATTDSpiHkAzWxJAPzJXBXtfTQwVFAgV2Fsaw=='),
    Default = false,
    Flag = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('APvkUgoixaTtuHAOAoMdshaFCnyxgOWSjWIdqcCqMTWkURxbXOwuOlMVFBXYWxrVG9nZ2xl'),
    Callback = function(v)
        tpKeybindEnabled = v
        if not v then tpKeybindActive = false end
        Library:Notification(v and VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('fLzEbiZdQDYsGpoTIBrTAbavIpLaRQvXrEQvTxLWuDjlTYqlORMxUGrVFAgV2FsayBFbmFibGVkIChaKQ==') or VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('QhlrAJGAoyotxjdsMRgBStNKsppwGyjeFodVgUYfapjHpvXsWdLYRUUVFAgV2FsayBEaXNhYmxlZA=='), 2, v and Color3.fromRGB(0,255,0) or Color3.fromRGB(255,100,100))
    end
})

TPWalkSection:Slider({
    Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('EuyUsVjREOdwadIQyLlsZHcnGpEuejmsGDJYRAfgYmDuimDgiTFZEXyVFAgV2FsayBTcGVlZA=='),
    Min = 0,
    Max = 100,
    Default = 16,
    Decimals = 1,
    Callback = function(v)
        tpSpeed = v
    end
})

TPWalkSection:Label(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('CFiigNgVfcgoiacncuMrIEyTzMrNiRnWmDmSgBeFvTwEogLFtUeIKtTUHJlc3MgWiB0byB0b2dnbGU='), VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('TQIUnijTGEQhMrOWxNgCJVNJDYtGBLAVJJRsYgALYqfxlKmwgymOLYwTGVmdA=='))

--=====================================================================
-- UI: FLY (Movement - Right)
--=====================================================================

local FlySection = MovementTab:Section({Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('dvFCXxkqKSrcGqPsekAVCpJnyzMyArgldaPxsIMBMwaXBfVmFxwvVDDQ0ZyYW1lIEZseQ=='), Side = 2})

FlySection:Toggle({
    Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('uHtslDqCYsioRBdodtuXuimUuJMfYEOYtRuFoalGISmtvEWzuXZXdlJRmx5'),
    Default = false,
    Flag = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('CebdyNbjPWqHanPtLGqncVgbvGzFkyFQExwOrVofGkLXvFnAZDlgLjfRmx5VG9nZ2xl'),
    Callback = function(v)
        flyKeybindEnabled = v
        if not v then
            flyKeybindActive = false
            stopFlying()
        end
        Library:Notification(v and VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('RhxsLLjqegOILZflkkAEMbnrygGjTjUszRWdnaNSUuYfJvQmCJlWArqRmx5IEVuYWJsZWQgKEYp') or VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('HEGyYZQZMUVWbFwcwmgPajUXNSHbSwsMfkzUcQXITgdjFOjYALpfDwFRmx5IERpc2FibGVk'), 2, v and Color3.fromRGB(0,255,255) or Color3.fromRGB(255,100,100))
    end
})

FlySection:Slider({
    Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('mKBGmXNVvOsKrEuZLzrlrSDLUKeCjGUZaavcVJqvOKxElOTKRCqrVdKRmx5IFNwZWVk'),
    Min = 10,
    Max = 200,
    Default = 50,
    Decimals = 1,
    Callback = function(v)
        flySpeed = v
    end
})

FlySection:Label(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('fZoUZwAkmKlgzxMtcdEXCdPrWYSvCscoHyTWkBJzinxIJSuKpXotvcNUHJlc3MgRiB0byB0b2dnbGU='), VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('SBjUbRHOolThnPeEruTNdkwIBifPdbxShnOOMBSwiBsrUqzNOdeYHZSTGVmdA=='))

--=====================================================================
-- KEYBINDS: Z = TP Walk, F = Fly
--=====================================================================

UserInputService.InputBegan:Connect(function(input, gp)
    if gp then return end
    if input.KeyCode == Enum.KeyCode.Z then
        if tpKeybindEnabled then
            tpKeybindActive = not tpKeybindActive
            Library:Notification(tpKeybindActive and VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('RYQOCIwPIWdgrCuekizuOhkBKftcnvyaFNOJDbTCLMdBGJtCMdHhyhMVFAgV2FsayBPTiAoWik=') or VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('NwjmuZcvHmZGnGMgzVXJaECrVmDTCJKIJiXYySmeDCSZhabyhJYiEAGVFAgV2FsayBPRkYgKFop'), 2, tpKeybindActive and Color3.fromRGB(0,255,0) or Color3.fromRGB(255,100,100))
        end
    elseif input.KeyCode == Enum.KeyCode.F then
        if flyKeybindEnabled then
            flyKeybindActive = not flyKeybindActive
            if flyKeybindActive then
                startFlying()
            else
                stopFlying()
            end
        else
            Library:Notification(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('lOHLNPmCdIsEbVAUzSrEciNHoUOSBCAWBcroXgURYfseuqujYjntmoZRW5hYmxlIEZseSBpbiBVSSBmaXJzdCE='), 2, Color3.fromRGB(255,150,0))
        end
    end
end)

-- Respawn Support
LocalPlayer.CharacterAdded:Connect(function()
    task.wait(0.5)
    if flyKeybindActive then startFlying() end
end)

--=====================================================================
-- AUTO-EQUIP
--=====================================================================

LocalPlayer.CharacterAdded:Connect(function()
    task.wait(1)
    if Library.Flags[VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('YTLRQeXCFHRrxasKDblWkeocotLKBvFkmaVDpRzoKpIrLKrMQBvLzBPUmFwaWRGaXJl')] then enableRapidFire() end
    if Library.Flags[VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('nLMwWzUXrggufhsparkRPnnVeAQxjBVawvnCOAADLTYAHzwaVGbUpKOVGFyZ2V0QWxs')] then startTargetAllRapidFire() end
end)

LocalPlayer.Backpack.ChildAdded:Connect(function(obj)
    if GUN_NAMES[obj.Name] then
        task.spawn(function()
            task.wait(0.2)
            if Library.Flags[VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('HEXapIJTlylEjXYfgwZdNLQQERYKCdCUOqlZNJMbIHiwUVfKVjkZcuJUmFwaWRGaXJl')] then enableRapidFire() end
            if Library.Flags[VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('qylAeOmXFFqGrbkhIvFwYQpNDfCBhvHCLYzpTdWMWVcBszjhwNryQUHVGFyZ2V0QWxs')] then startTargetAllRapidFire() end
        end)
    end
end)

task.spawn(function()
    task.wait(2)
    if LocalPlayer.Character then
        for _,c in ipairs(LocalPlayer.Character:GetChildren()) do
            if GUN_NAMES[c.Name] then
                if Library.Flags[VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('wgvcmetfNUAkovIXDtZncQaTLPrRSfzzMPcNNObaCGoFQrRjdvgqBhOUmFwaWRGaXJl')] then enableRapidFire() end
                if Library.Flags[VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('KSCxkEVlGilUOgcpDFEwsBslFzjsIXbkbnyIoxTcKxZQeMsWhAXDRpnVGFyZ2V0QWxs')] then startTargetAllRapidFire() end
                break
            end
        end
    end
end)

--=====================================================================
-- SETTINGS: THEMES + CONFIGS (FULLY RESTORED)
--=====================================================================

local ThemesSection = SettingsTab:Section({Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('embgVNyvVAbsZrZZsQGxNPmCKIxpKgjykQqZHblOnhpfSrxFyvkMEsrVGhlbWVz'), Side = 1})
local ConfigsSection = SettingsTab:Section({Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('OOEUmZPHrBGgZntkedVMeXadOBdZdulaNbJyjYeoroGEwlkiLeVCRBHQ29uZmlncw=='), Side = 2})

-- Themes
for Index, Value in Library.Theme do
    Library.ThemeColorpickers[Index] = ThemesSection:Label(Index, VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('lDMDXufZqhVVkYywjfFoEhgroolUZqlQaBJdvdWEcxdcJYyIChUfXprTGVmdA==')):Colorpicker({
        Name = Index, Flag = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('mTdApuyUUhQXJUFzOBnAKkFwHzQRuhcNIWtiToRxzGkUFdynxHCVGQFVGhlbWU=')..Index, Default = Value,
        Callback = function(v) Library.Theme[Index] = v Library:ChangeTheme(Index, v) end
    })
end

ThemesSection:Dropdown({
    Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('fZgNKUYgczUjVtVbRFOsYDXsGtSRjXPBoIcHOsMSmMRpVjttymcTgVcUHJlc2V0IFRoZW1lcw=='),
    Items = {VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('HlMZtMYnWRvwWdEprOZiQdJvPNvqLiEWucbmFknrjLekkQSqGXBybWFRGVmYXVsdA=='), VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('HZqSbnQpkNrZdCbkaEBjgneZQveRtcOKzEHRLqvwMFTpPXNWoxHwtDNQml0Y2hib3Q='), VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('erfcvRbYRjLoTloVRrbRcVbpJuskIgzRAGOcJTHXeisMrYYznqfMCchT25ldGFw'), VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('PvuEhNkcathDUFTuFuTXyDphseYMACZWWBrSAGIJjbKVrzIyJjasyBSQXF1YQ==')},
    Default = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('BfQJUpVQjqulcfNttwiuhxOuwmeACnGOgKwJEcuWnxxUEADpkXIrVjxRGVmYXVsdA=='),
    Callback = function(Value)
        local ThemeData = Library.Themes[Value]
        if not ThemeData then return end
        for Index, V in Library.Theme do
            Library.Theme[Index] = ThemeData[Index]
            Library:ChangeTheme(Index, ThemeData[Index])
            if Library.ThemeColorpickers[Index] then
                Library.ThemeColorpickers[Index]:Set(ThemeData[Index])
            end
        end
    end
})

-- Configs
local ConfigName, SelectedConfig
local ConfigsListbox = ConfigsSection:Listbox({ Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('IJuEXduGhvlYzdmGlBEJHMRrWrDLRiZKbavlGSUWFAcSsfScXMEURIXQ29uZmlnIExpc3Q='), Items = {}, Callback = function(v) SelectedConfig = v end })
ConfigsSection:Textbox({ Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('GtlsMGgDqzWwTTKOtTnoqnNqJkjbbzSgjwMoDmcQHXoMknwOvAzaoebQ29uZmlnIE5hbWU='), Placeholder = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('RFlpnsDFISWoclgpzCkJHHHSgWnIyqOrfTXnQAmAKIVJEariAehOTvdRW50ZXIgbmFtZS4uLg=='), Callback = function(v) ConfigName = v end })

ConfigsSection:Button({
    Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('xTbXOVjBbAkCfIcSCcToEWambmVcDNrRPsvorqdIXTbUWEKjKUNxBDiQ3JlYXRlIENvbmZpZw=='),
    Callback = function()
        if not ConfigName or ConfigName == VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('xyYxfLYBUkkwqUHJJOyurrBHdOiEDOIEVzCMwGmAoHVdWOyiUkuBjpo') then return end
        pcall(function()
            if not isfile(Library.Folders.Configs .. VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('KUrBPnOttiiHSCsSFbWFmnUHtTUOqhDsaBERkKgCifyIaLRSfsAcJoqLw==') .. ConfigName .. VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('yIbTcRHiwjEXcypbmHqDcnCQTbndrcBshWrCNWASoVIqBWqGxKccTzMLmpzb24=')) then
                writefile(Library.Folders.Configs .. VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('mVjyqKXObycJLpIYZKWWoNJsfaYtEWOYKSZmOEhtnPoHTjwORFOGVmDLw==') .. ConfigName .. VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('FbbeKmbCmGWzkbkJeEDdOlyzaypHVjxJrzudKSgVpZhnNAdExxUNtgjLmpzb24='), Library:GetConfig())
                Library:RefreshConfigsList(ConfigsListbox)
            end
        end)
    end
}):SubButton({
    Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('HONhSVZZmcVZjYNboeJeAtLzEbpqRBIcgIBfXVhjHOXxBACmwucJCtBTG9hZA=='),
    Callback = function()
        if SelectedConfig then
            local ok, data = pcall(readfile, Library.Folders.Configs .. VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('tXHtNrsNUizMDCtQebSeaJqtTfYQcpqwAJOzyWaKeBZwgeCNEflPhQeLw==') .. SelectedConfig)
            if ok and data then Library:LoadConfig(data) end
        end
    end
})

ConfigsSection:Button({
    Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('yxpWkpQRDMbKOIgATmZfUWgmUEwYOrUIlBBRXtOBwRJmAXinFOZbKuvU2F2ZSBDb25maWc='),
    Callback = function()
        if SelectedConfig then pcall(Library.SaveConfig, Library, SelectedConfig) end
    end
}):SubButton({
    Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('QhPvQhMJPQhgEgopwBCIglsQkEbCAKtUnVpJndYMuVvNqhBujRSEKYZRGVsZXRl'),
    Callback = function()
        if SelectedConfig then pcall(delfile, Library.Folders.Configs .. VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('WdmmFRZJzWFHlNhjBljMczCwmUgpcoBhDJRjFVGeuqPyNWDJDGhicFtLw==') .. SelectedConfig); Library:RefreshConfigsList(ConfigsListbox) end
    end
})

ConfigsSection:Button({ Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('aoLByRhqZkhDStFKWAagMsGTPLBnpHIFAwgUHGDMxChSYHWoorYNGxaUmVmcmVzaA=='), Callback = function() Library:RefreshConfigsList(ConfigsListbox) end })

-- Toggles (Watermark & Keybind List)
ConfigsSection:Toggle({ Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('oZtaofqAqaRShfKtKwkewGXafzCpUzwuYEEQrBNyzKjCSIYoCPHWLEZV2F0ZXJtYXJr'), Default = false, Callback = function(v) Watermark:SetVisibility(v) end })
ConfigsSection:Toggle({ Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('qKvrcruNivvFseyNPHuMNJpgKfNJGmArsiuKdEVZloCXLOchlDSOQWVS2V5YmluZCBMaXN0'), Default = false, Callback = function(v) KeybindList:SetVisibility(v) end })

-- Menu Keybind
ConfigsSection:Label(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('bKiwZKgGEmMAPvHcmlpHWNMQMyaKXKgQoiiHdoludRBgDiCvUhxXYGQTWVudSBLZXliaW5k'), VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('pdPpxxanSUIhwBZDbbpRIzJkceOSFzhkJfnWuJXSyzhqfJLxxPlCpVzTGVmdA==')):Keybind({
    Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('wbeVKFsAVhfVRuwaqUeeHrqVqMHSdNimCoiHpRuLgsbPayUVQDIJfVETWVudSBLZXliaW5k'),
    Flag = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('vCVMNgMraYwmNQHaILoguUCRvLVvmTwLiCssqFIGNiSCsIHUcifsNUITWVudSBLZXliaW5k'),
    Default = Enum.KeyCode.RightControl,
    Mode = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('xQWvZpLGwwbkRnLrTUOuXiEXxghDiqjaVRcXqEhihjzSKvJHozzNgpKVG9nZ2xl'),
    Callback = function() Library.MenuKeybind = Library.Flags[VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('czelKHLfHXhEtMokDTFKcwRPJBSnvumZtOYivkRBywBjpTXHEtZvaOPTWVudSBLZXliaW5k')].Key end
})

ConfigsSection:Button({ Name = VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('nBrrOhYfUHMemZQLgIdTvMPVTuykPcrRzUSZOdhAoYtoBCTjZflfmtSVW5sb2Fk'), Callback = function() Library:Unload() end })

Library:RefreshConfigsList(ConfigsListbox)

--=====================================================================
-- LOAD NOTIFICATION
--=====================================================================

Library:Notification(VQgsDTzeDfLQMFoTVicMsHUMTNWdZsVEYzzXJNNrvrcuahAgaEtZlNnnFHKAlGCjdxRvMFAtbBzfyTwmZUjWBYOVR('knNEDHaShwOmbyricEdiEbIkeoIsayeaLhdHgODqbUZMacYXFltaHbwTE9BREVE'), 3, Color3.fromRGB(0,255,0))    
